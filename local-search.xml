<?xml version="1.0" encoding="utf-8"?>
<search>
  
  
  
  <entry>
    <title>ä½¿ç”¨ Cloudflare Workers åˆ›å»ºå…OpenAIåŸŸåæ¥å£(å…VPN)</title>
    <link href="/2023/03/28/%E4%BD%BF%E7%94%A8%20Cloudflare%20Workers%20%E5%88%9B%E5%BB%BA%E5%85%8DOpenAI%E5%9F%9F%E5%90%8D%E6%8E%A5%E5%8F%A3(%E5%85%8DVPN)/"/>
    <url>/2023/03/28/%E4%BD%BF%E7%94%A8%20Cloudflare%20Workers%20%E5%88%9B%E5%BB%BA%E5%85%8DOpenAI%E5%9F%9F%E5%90%8D%E6%8E%A5%E5%8F%A3(%E5%85%8DVPN)/</url>
    
    <content type="html"><![CDATA[<h1 id="ä½¿ç”¨-Cloudflare-Workers-åˆ›å»ºå…OpenAIåŸŸåæ¥å£-å…VPN"><a href="#ä½¿ç”¨-Cloudflare-Workers-åˆ›å»ºå…OpenAIåŸŸåæ¥å£-å…VPN" class="headerlink" title="ä½¿ç”¨ Cloudflare Workers åˆ›å»ºå…OpenAIåŸŸåæ¥å£(å…VPN)"></a>ä½¿ç”¨ Cloudflare Workers åˆ›å»ºå…OpenAIåŸŸåæ¥å£(å…VPN)</h1><h3 id="1-åˆ›å»ºä¸€ä¸ª-Cloudflare-Worker"><a href="#1-åˆ›å»ºä¸€ä¸ª-Cloudflare-Worker" class="headerlink" title="1.åˆ›å»ºä¸€ä¸ª Cloudflare Worker"></a>1.åˆ›å»ºä¸€ä¸ª Cloudflare Worker</h3><p>ç™»å½•åˆ° Cloudflare çš„ç®¡ç†ç•Œé¢åï¼Œç‚¹å‡»ä¾§è¾¹æ çš„ â€œWorkersâ€ é€‰é¡¹ï¼Œç„¶åç‚¹å‡»â€œCreate a Serviceâ€ åˆ›å»ºä¸€ä¸ª Workerã€‚<br><img src="https://qiniu.version.ga/222871270-d973e2bd-74f9-4efa-b080-e665903a7bac.png"></p><p>ç„¶ååœ¨åˆ›å»ºç•Œé¢ä¸­è¾“å…¥ â€œService nameâ€ åç‚¹å‡» â€œCreate Serviceâ€ æŒ‰é’®æ–°å»º Workerã€‚â€œSelect a starterâ€ é¡¹å…ˆä¸ç”¨ç®¡ã€‚<br><img src="https://qiniu.version.ga/222871439-4ac253c6-d87f-434e-a8e8-3d05c652217d.png"><br>è‡³æ­¤ Cloudflare çš„ Worker ä¾¿åˆ›å»ºå¥½äº†ï¼Œä¸‹é¢å¼€å§‹ä¿®æ”¹ Worker çš„ä»£ç ï¼Œä½¿å…¶èƒ½ä»£ç† OpenAI çš„ APIã€‚</p><h3 id="2-ä¿®æ”¹-Cloudflare-Worker-çš„ä»£ç "><a href="#2-ä¿®æ”¹-Cloudflare-Worker-çš„ä»£ç " class="headerlink" title="2.ä¿®æ”¹ Cloudflare Worker çš„ä»£ç "></a>2.ä¿®æ”¹ Cloudflare Worker çš„ä»£ç </h3><p>åœ¨ Worker çš„ç®¡ç†ç•Œé¢ï¼Œç‚¹å‡»å³ä¸Šè§’çš„ â€œQuick Editâ€ æŒ‰é’®ç¼–è¾‘ä»£ç  Worker çš„ä»£ç ã€‚<br><img src="https://qiniu.version.ga/222871710-c1d4834e-3bb4-49cf-a9dd-b7dcee258112.png"></p><p>åœ¨å·¦ä¾§çš„ä»£ç ç¼–è¾‘å™¨ä¸­ï¼Œåˆ é™¤ç°æœ‰çš„æ‰€æœ‰ä»£ç ï¼Œç„¶åå¤åˆ¶ç²˜è´´ä»¥ä¸‹å†…å®¹åˆ°ä»£ç ç¼–è¾‘å™¨ï¼š<br>ç®€åŒ–åçš„ä»£ç æ¥è‡ª <a href="https://github.com/x-dr/chatgptProxyAPI">https://github.com/x-dr/chatgptProxyAPI</a></p><figure class="highlight qml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><code class="hljs qml"><span class="hljs-keyword">const</span> TELEGRAPH_URL = <span class="hljs-string">&#x27;https://api.openai.com&#x27;</span>;<br><br>addEventListener(<span class="hljs-string">&#x27;fetch&#x27;</span>, event =&gt; &#123;<br>  event.respondWith(handleRequest(event.request))<br>&#125;)<br><br><span class="hljs-keyword">async</span> <span class="hljs-function"><span class="hljs-keyword">function</span> <span class="hljs-title">handleRequest</span>(<span class="hljs-params">request</span>) </span>&#123;<br>  <span class="hljs-keyword">const</span> <span class="hljs-built_in">url</span> = <span class="hljs-keyword">new</span> URL(request.url);<br>  <span class="hljs-built_in">url</span>.host = TELEGRAPH_URL.replace(<span class="hljs-regexp">/^https?:\/\//</span>, <span class="hljs-string">&#x27;&#x27;</span>);<br><br>  <span class="hljs-keyword">const</span> modifiedRequest = <span class="hljs-keyword">new</span> Request(<span class="hljs-built_in">url</span>.toString(), &#123;<br>    <span class="hljs-attribute">headers</span>: request.headers,<br>    <span class="hljs-attribute">method</span>: request.method,<br>    <span class="hljs-attribute">body</span>: request.body,<br>    <span class="hljs-attribute">redirect</span>: <span class="hljs-string">&#x27;follow&#x27;</span><br>  &#125;);<br><br>  <span class="hljs-keyword">const</span> response = <span class="hljs-keyword">await</span> fetch(modifiedRequest);<br>  <span class="hljs-keyword">const</span> modifiedResponse = <span class="hljs-keyword">new</span> Response(response.body, response);<br><br>  <span class="hljs-comment">// æ·»åŠ å…è®¸è·¨åŸŸè®¿é—®çš„å“åº”å¤´</span><br>  modifiedResponse.headers.set(<span class="hljs-string">&#x27;Access-Control-Allow-Origin&#x27;</span>, <span class="hljs-string">&#x27;*&#x27;</span>);<br><br>  <span class="hljs-keyword">return</span> modifiedResponse;<br>&#125;<br></code></pre></td></tr></table></figure><p>æœ€åç‚¹å‡»ç¼–è¾‘å™¨å³ä¸‹è§’çš„ â€œSave and deployâ€ æŒ‰é’®éƒ¨ç½²è¯¥ä»£ç ï¼Œåœ¨å¼¹å‡ºçš„å¯¹è¯æ¡†ä¸­ç»§ç»­é€‰æ‹© â€œSave and deployâ€ ç¡®è®¤éƒ¨ç½²ã€‚</p><p><img src="https://qiniu.version.ga/222872146-bf4c8f30-307a-4511-9be6-8c19db5cab43.png"></p><p>è‡³æ­¤ï¼Œä¾¿å¯ä»¥ä½¿ç”¨è¯¥ worker çš„åœ°å€æ¥ä»£æ›¿ OpenAI çš„ API åœ°å€äº†ã€‚æ¯”å¦‚æƒ³è¦è¯·æ±‚ ChatGPT çš„ API æ—¶ï¼ŒæŠŠå®˜æ–¹æ–‡æ¡£ä¸­çš„ <a href="https://api.openai.com/v1/chat/completions">https://api.openai.com/v1/chat/completions</a> æ›¿æ¢æˆ <a href="https://openai.workers.dev/">https://openai.workers.dev</a> å³å¯ï¼ˆæ³¨æ„è¿™ä¸ªåœ°å€å¹¶ä¸å­˜åœ¨ï¼Œæ˜¯éœ€è¦æ¢æˆè‡ªå·±åˆšåˆšåˆ›å»ºçš„ Worker çš„åœ°å€ï¼‰ã€‚</p><p>ä½†æ˜¯ä½ å¯èƒ½ä¼šå‘ç°ï¼Œè¿™æ ·åšäº†ä¾ç„¶è¿˜æ˜¯æ²¡æœ‰è§£å†³é—®é¢˜ï¼Œå› ä¸º Cloudflare Workers çš„ workers.dev åŸŸåä¹Ÿæ˜¯è¢« GFW è®¤è¯è¿‡çš„ğŸ¥²ã€‚ä½†æ˜¯å¥½åœ¨åªæ˜¯è®¤è¯äº† workers.dev åŸŸåï¼Œè€Œ ip è¿˜æ˜¯å¹¸å­˜çš„çŠ¶æ€ï¼Œæ‰€ä»¥æˆ‘ä»¬å¯ä»¥ç»™ Worker ç»‘å®šä¸€ä¸ªè‡ªå·±çš„åŸŸåã€‚</p><h3 id="3-ç»‘å®šåŸŸå"><a href="#3-ç»‘å®šåŸŸå" class="headerlink" title="3.ç»‘å®šåŸŸå"></a>3.ç»‘å®šåŸŸå</h3><p>åœ¨ Cloudflare Workers çš„ç®¡ç†ç•Œé¢ä¸­ï¼Œç‚¹å‡» â€œTriggersâ€ é€‰é¡¹å¡ï¼Œç„¶åç‚¹å‡» â€œCustom Domiansâ€ ä¸­çš„ â€œAdd Custom Domainâ€ æŒ‰é’®ä»¥ç»‘å®šåŸŸåã€‚<br><img src="https://qiniu.version.ga/222872491-026600f5-c04c-49c5-9fdf-4d4abb0b66f7.png"></p>]]></content>
    
    
    
  </entry>
  
  
  
  <entry>
    <title>Hello World</title>
    <link href="/2023/03/28/hello-world/"/>
    <url>/2023/03/28/hello-world/</url>
    
    <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ hexo new <span class="hljs-string">&quot;My New Post&quot;</span><br></code></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ hexo server<br></code></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ hexo generate<br></code></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">$ hexo deploy<br></code></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>]]></content>
    
    
    
  </entry>
  
  
  
  
</search>
